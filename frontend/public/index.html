<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>T-News</title>
  <link rel="stylesheet" href="../src/style/style.css" />
</head>
<body>
  <header class="header">
    <div class="container nav-container">
      <a href="#" id="logoLink" class="logo-link" aria-label="T-News">
        <img src="../src/img/t-bank.svg" alt="Логотип T-News" class="logo" />
      </a>

      <form class="search-form" role="search">
        <input type="text" class="search-input" placeholder="Поиск по T-News" />
      </form>

      <nav class="auth-buttons" aria-label="Авторизация">
        <span id="userLink" class="auth-link" style="display:none; cursor:pointer;"></span>

        <button id="registerBtn" class="auth-link" onclick="showRegisterForm()">Зарегистрироваться</button>

        <button id="loginBtn" class="auth-link" onclick="showLoginForm()">Войти</button>
        
        <span id="userNav" style="display: none;">
          <a href="#" onclick="openProfile(currentUser); return false;">
            @<span id="navUser"></span>
          </a>
        </span>
        <button id="logoutBtn" style="display:none;" onclick="logout()">Выйти</button>
      </nav>
    </div>
  </header>

  <main>
    <div class="aa">
        <section id="posts" class="content"></section>
    </div>
    
    <section id="loginForm" class="content" style="display:none;">
      <form class="login-dialog" onsubmit="login(event)">
        <header class="login-title">Вход</header>
        <div class="login-fields">
          <label class="field-row">
            <input id="loginUsername" class="text-input large" type="text" placeholder="Логин" required />
          </label>
          <label class="field-row">
            <input id="loginPassword" class="text-input large" type="password" placeholder="Пароль" required />
          </label>
        </div>
        <footer class="login-footer">
          <button type="button" class="button secondary" onclick="showRegisterForm()">Зарегистрироваться</button>
          <button type="submit" class="button primary">Войти</button>
        </footer>
      </form>
    </section>

    <section id="registerForm" class="content" style="display:none;">
      <form class="login-dialog" onsubmit="register(event)">
        <header class="login-title">Регистрация</header>
        <div class="login-fields">
          <label class="field-row">
            <input id="registerUsername" class="text-input large" type="text" placeholder="Логин" required />
          </label>
          <label class="field-row">
            <input id="registerPassword" class="text-input large" type="password" placeholder="Пароль" required />
          </label>
        </div>
        <footer class="login-footer">
          <button type="button" class="button secondary" onclick="showLoginForm()">Уже есть аккаунт</button>
          <button type="submit" class="button primary">Зарегистрироваться</button>
        </footer>
      </form>
    </section>

    <section id="profilePage" class="content" style="display:none;">
        <h2>Профиль</h2>
        <div id="profileInfo">
          <div class="profile-avatar">
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSFUAfyVe3Easiycyh3isP9wDQTYuSmGPsPQvLIJdEYvQ_DsFq5Ez2Nh_QjiS3oZ3B8ZPfK9cZQyIStmQMV1lDPLw" alt="Аватар" />
            <button id="editPhotoBtn">Изменить фото</button>
          </div>
          <div class="profile-main">
            <h3><span id="profileUsername">lucius.seneca</span></h3>
            <p id="profileDescription">
              Обо мне: римский философ-стоик, поэт и государственный деятель. Воспитатель Нерона и один из крупнейших представителей стоицизма...
            </p>
            <textarea id="editDescription" rows="4" style="width:100%; display:none;"></textarea>
            <button id="editDescBtn" onclick="toggleEditDescription()">Изменить описание</button>
            <button id="saveDescBtn" style="display:none;" onclick="saveDescription()">Сохранить описание</button>
          </div>
        </div>
  
      

      <div id="newPostForm" style="margin: 20px 0; display:none;">
        <textarea id="newPostText" class="text-input large" placeholder="Напишите новый пост..." rows="4"></textarea>
        <button class="button primary" onclick="addNewPost()">Опубликовать</button>
      </div>

      <div id="userPosts"></div>
      <button class="button secondary" onclick="loadPosts()">Назад к ленте</button>
    </section>


  </main>


<script src="../src/js/index.js" defer></script>

</body>
</html>
